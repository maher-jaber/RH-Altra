/* =========================================================
   ALTRACALL HRMS — Modern Enterprise UI
   (Angular Material prebuilt theme is loaded via angular.json)
   ========================================================= */

:root {
  /* Brand palette (works well with most blue/purple/cyan logos) */
  --brand-1: #1d4ed8;   /* Deep Blue */
  --brand-2: #7c3aed;   /* Violet */
  --brand-3: #0891b2;   /* Cyan */

  /* Light-first (maximum readability) */
  --bg: #f5f7ff;
  --bg-2: #ffffff;
  --surface: rgba(255, 255, 255, 0.92);
  --surface-2: rgba(255, 255, 255, 0.78);
  --stroke: rgba(15, 23, 42, 0.12);
  --text: rgba(15, 23, 42, 0.92);
  --text-2: rgba(15, 23, 42, 0.62);

  /* Radius / shadows */
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 22px;
  --shadow-1: 0 10px 28px rgba(0, 0, 0, 0.25);
  --shadow-2: 0 16px 40px rgba(0, 0, 0, 0.38);

  /* Motion */
  --ease: cubic-bezier(.2, .8, .2, 1);
  --dur-1: 120ms;
  --dur-2: 220ms;
  --dur-3: 420ms;

  /* Layout */
  --container: 1240px;

  /* Bootstrap (force high visibility) */
  --bs-body-color: var(--text);
  --bs-body-bg: transparent;
  --bs-emphasis-color: var(--text);
  --bs-secondary-color: var(--text-2);
  --bs-tertiary-color: rgba(15,23,42,0.50);
  --bs-border-color: rgba(15,23,42,0.12);
  --bs-link-color: var(--brand-1);
  --bs-link-hover-color: #0b3aa6;
  --bs-card-bg: rgba(255,255,255,0.92);
  --bs-card-color: var(--text);
  --bs-dropdown-bg: rgba(255,255,255,0.98);
  --bs-dropdown-link-color: rgba(15,23,42,0.90);
  --bs-dropdown-link-hover-bg: rgba(29,78,216,0.10);
  --bs-dropdown-link-hover-color: rgba(15,23,42,0.95);

  /* Form UX */
  --field-bg: rgba(255,255,255,0.92);
  --field-bg-2: rgba(255,255,255,0.72);
  --field-stroke: rgba(15,23,42,0.16);
  --focus: rgba(29,78,216,0.18);
}

html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(900px 600px at 12% 8%, rgba(29,78,216,.16), transparent 60%),
    radial-gradient(900px 600px at 88% 20%, rgba(124,58,237,.14), transparent 60%),
    radial-gradient(900px 620px at 70% 92%, rgba(8,145,178,.12), transparent 55%),
    linear-gradient(180deg, var(--bg), var(--bg-2));
}

/* Dark mode tokens (set via <html data-ui-mode="dark">) */
:root[data-ui-mode="dark"] {
  --bg: #0b1220;
  --bg-2: #0e172a;
  --surface: rgba(255, 255, 255, 0.08);
  --surface-2: rgba(255, 255, 255, 0.06);
  --stroke: rgba(255, 255, 255, 0.14);
  --text: rgba(255, 255, 255, 0.92);
  --text-2: rgba(255, 255, 255, 0.70);

  --bs-tertiary-color: rgba(255,255,255,0.55);
  --bs-border-color: rgba(255,255,255,0.16);
  --bs-link-color: rgba(6,182,212,0.95);
  --bs-link-hover-color: rgba(37,99,235,0.95);
  --bs-card-bg: rgba(255,255,255,0.06);
  --bs-dropdown-bg: rgba(12, 18, 32, 0.92);
  --bs-dropdown-link-color: var(--text);
  --bs-dropdown-link-hover-bg: rgba(255,255,255,0.10);
  --bs-dropdown-link-hover-color: var(--text);

  --field-bg: rgba(255,255,255,0.08);
  --field-bg-2: rgba(255,255,255,0.06);
  --field-stroke: rgba(255,255,255,0.16);
  --focus: rgba(6,182,212,0.18);
}

/* Bootstrap dropdown/menu readability */
.dropdown-menu {
  border-radius: 16px;
  border: 1px solid var(--bs-border-color);
  box-shadow: var(--shadow-2);
  /* Ensure menu is never visually "transparent" (user reported unreadable menu)
     Keep a solid background and avoid blur artifacts on some GPUs/browsers. */
  background-color: var(--bs-dropdown-bg) !important;
  backdrop-filter: none;
}

/* Angular Material: ensure consistent readability + premium surfaces */
body, .mat-typography { color: var(--text) !important; }

.mat-mdc-card, .mat-mdc-dialog-container .mdc-dialog__surface {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--stroke) !important;
  border-radius: var(--r-lg) !important;
  box-shadow: 0 10px 28px rgba(0,0,0,0.10);
}

.mat-mdc-table { background: var(--surface) !important; }
.mdc-data-table__cell, .mdc-data-table__header-cell { color: var(--text) !important; }
.mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-hint-wrapper { color: var(--text-2) !important; }

/* Dark mode: slightly more glass */
:root[data-ui-mode="dark"] .mat-mdc-card,
:root[data-ui-mode="dark"] .mat-mdc-dialog-container .mdc-dialog__surface {
  background: rgba(255,255,255,0.06) !important;
  border: 1px solid rgba(255,255,255,0.14) !important;
  backdrop-filter: blur(14px);
}

:root[data-ui-mode="dark"] .mat-mdc-table { background: rgba(255,255,255,0.04) !important; }
:root[data-ui-mode="dark"] .mdc-text-field--filled:not(.mdc-text-field--disabled) { background: rgba(255,255,255,0.06) !important; }
:root[data-ui-mode="dark"] .mdc-text-field__input { color: var(--text) !important; }

/* Smooth, modern defaults */
* { box-sizing: border-box; }
a { color: inherit; text-decoration: none; }

.container {
  max-width: var(--container);
  margin: 0 auto;
  padding: 18px;
}

/* Glass utilities */
.glass {
  background: var(--surface);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow-1);
  border-radius: var(--r-lg);
  backdrop-filter: blur(14px);
}
.glass-soft {
  background: var(--surface-2);
  border: 1px solid var(--stroke);
  border-radius: var(--r-lg);
  backdrop-filter: blur(14px);
}

/* Scrollbar (nice but subtle) */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.18);
  border: 2px solid rgba(0,0,0,0);
  border-radius: 999px;
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.26); background-clip: padding-box; }

/* Bootstrap cards: premium glass */
.card {
  border-radius: var(--r-lg);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(14px);
}

/* Buttons: add a touch of motion */
button, .btn {
  transition: transform var(--dur-2) var(--ease), filter var(--dur-2) var(--ease);
}
button:hover { filter: brightness(1.05); }
button:active { transform: translateY(1px); }

/* Buttons (brand, enterprise) */
.btn-primary {
  border: none;
  background: linear-gradient(135deg, var(--brand-1), var(--brand-2));
  box-shadow: 0 12px 22px rgba(29,78,216,.18);
}
.btn-primary:hover { filter: brightness(1.05); }
.btn-outline-primary {
  border-color: rgba(29,78,216,.45);
  color: var(--brand-1);
}

/* Inputs (high visibility + elegant) */
.form-label { color: var(--text-2); font-weight: 700; letter-spacing: .2px; }

.form-control, .form-select, .form-check-input {
  border-radius: 14px;
  border: 1px solid var(--field-stroke);
}

.form-control, .form-select {
  background: var(--field-bg);
  color: var(--text);
  padding: .7rem .9rem;
}

.form-control::placeholder {
  color: rgba(15,23,42,0.45);
}
:root[data-ui-mode="dark"] .form-control::placeholder {
  color: rgba(255,255,255,0.55);
}

.form-control:focus, .form-select:focus, .form-check-input:focus {
  border-color: rgba(29,78,216,0.75);
  box-shadow: 0 0 0 .25rem var(--focus);
  background: var(--field-bg);
  color: var(--text);
}

.form-control:disabled, .form-select:disabled {
  background: var(--field-bg-2);
  opacity: .8;
}

/* Input groups (icons) */
.input-group-text {
  border-radius: 14px;
  border: 1px solid var(--field-stroke);
  background: var(--field-bg);
  color: var(--text-2);
}

/* Floating labels refinement */
.form-floating > .form-control,
.form-floating > .form-select {
  height: 54px;
}
.form-floating > label {
  color: var(--text-2);
  font-weight: 700;
}

/* Form cards (enterprise look) */
.form-card {
  border-radius: var(--r-lg);
  border: 1px solid var(--stroke);
  background: var(--surface);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(14px);
}
.form-card .form-card__header {
  padding: 18px 18px 0;
}
.form-card .form-card__body {
  padding: 18px;
}

/* =========================================================
   ENTERPRISE FORMS — apply pro styling even when components
   do NOT explicitly use Bootstrap classes.
   This makes "all forms" consistent across the app.
   ========================================================= */

/* Generic inputs in forms (non-bootstrap templates) */
form input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="color"]):not(.form-control):not(.form-check-input):not(.mat-mdc-input-element),
form select:not(.form-select):not(.mat-mdc-select),
form textarea:not(.form-control):not(.mat-mdc-input-element) {
  width: 100%;
  appearance: none;
  border-radius: 14px;
  border: 1px solid var(--field-stroke);
  background: var(--field-bg);
  color: var(--text);
  padding: .7rem .9rem;
  line-height: 1.35;
  transition: box-shadow var(--dur-2) var(--ease), border-color var(--dur-2) var(--ease), background var(--dur-2) var(--ease);
}

form input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="color"]):not(.form-control):not(.form-check-input):not(.mat-mdc-input-element):focus,
form select:not(.form-select):not(.mat-mdc-select):focus,
form textarea:not(.form-control):not(.mat-mdc-input-element):focus {
  outline: none;
  border-color: rgba(29,78,216,0.75);
  box-shadow: 0 0 0 .25rem var(--focus);
}

form input::placeholder,
form textarea::placeholder {
  color: rgba(15,23,42,0.45);
}
:root[data-ui-mode="dark"] form input::placeholder,
:root[data-ui-mode="dark"] form textarea::placeholder {
  color: rgba(255,255,255,0.55);
}

/* Make labels consistently readable */
form label {
  color: var(--text-2);
  font-weight: 700;
  letter-spacing: .2px;
}

/* Calendar inputs (flatpickr) — match enterprise controls */
.flatpickr-input {
  border-radius: 14px !important;
  border: 1px solid var(--field-stroke) !important;
  background: var(--field-bg) !important;
  color: var(--text) !important;
  padding: .7rem .9rem !important;
}
.flatpickr-calendar {
  border-radius: 16px !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: var(--shadow-2) !important;
  backdrop-filter: blur(14px);
}

/* Angular Material fields: keep them readable + closer to enterprise look */
.mat-mdc-form-field {
  width: 100%;
}
.mdc-text-field--filled:not(.mdc-text-field--disabled) {
  background: var(--field-bg) !important;
  border-radius: 14px !important;
  border: 1px solid var(--field-stroke) !important;
}
.mdc-floating-label, .mat-mdc-form-field-hint {
  color: var(--text-2) !important;
}
.form-section-title {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: .12em;
  color: var(--text-2);
  margin: 6px 0 12px;
}

/* Headings */
h1, h2, h3 { letter-spacing: .2px; }
h2 { font-size: 20px; margin: 0 0 12px; }
h3 { font-size: 16px; margin: 0 0 10px; }

/* Small helpers */
.muted { color: var(--text-2); }
.row { display:flex; gap: 12px; align-items:center; flex-wrap: wrap; }
.grid { display:grid; gap: 12px; }

/* Tiny animation helpers */
@keyframes floaty {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}

@keyframes fadeUp {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0px); }
}

.anim-fadeUp { animation: fadeUp var(--dur-3) var(--ease) both; }
.anim-floaty { animation: floaty 5s var(--ease) infinite; }

/* =========================================================
   Reusable UI bits (used by Advances / Daily Reports)
   ========================================================= */

.icon-circle {
  width: 38px;
  height: 38px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  box-shadow: 0 10px 20px rgba(0,0,0,0.10);
}

/* Accordion should remain readable on glass cards */
.accordion-item {
  border: 1px solid var(--stroke);
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255,255,255,0.04);
}
.accordion-button {
  background: transparent;
  color: var(--text);
}
.accordion-button:not(.collapsed) {
  background: rgba(29,78,216,0.08);
  color: var(--text);
}
.accordion-button:focus {
  box-shadow: 0 0 0 .25rem var(--focus);
}

/* Tables over glass backgrounds */
.table {
  color: var(--text);
}
.table thead th {
  color: var(--text-2);
  border-bottom-color: var(--stroke);
}
.table td, .table th {
  border-top-color: var(--stroke);
}

/* =========================================================
   Enterprise layout helpers (Angular Material friendly)
   ========================================================= */

.page {
  max-width: var(--container);
  margin: 0 auto;
}

.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin: 4px 0 14px;
}

.page-title {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.page-title h1,
.page-title h2 {
  margin: 0;
  font-weight: 900;
  letter-spacing: .2px;
}

.page-subtitle {
  color: var(--text-2);
  font-size: 13px;
}

.kpi-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
  margin-bottom: 14px;
}

.kpi-card {
  grid-column: span 3;
  padding: 14px 14px;
}

@media (max-width: 1100px) {
  .kpi-card { grid-column: span 6; }
}
@media (max-width: 640px) {
  .kpi-card { grid-column: span 12; }
}

.kpi-label { color: var(--text-2); font-size: 12px; font-weight: 700; }
.kpi-value { font-size: 22px; font-weight: 900; margin-top: 4px; }

.filters-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  margin: 6px 0 12px;
}

.table-card {
  padding: 10px 10px 6px;
}

.table-wrap {
  overflow: auto;
  border-radius: 16px;
  border: 1px solid var(--stroke);
}

/* MatTable niceties */
.mat-mdc-table .mdc-data-table__header-cell {
  font-weight: 800;
  color: var(--text-2) !important;
}
.mat-mdc-table .mdc-data-table__row:hover {
  background: rgba(29,78,216,0.06);
}

/* Chips (status) */
.chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: var(--surface);
  font-size: 12px;
  font-weight: 800;
}

.chip-dot { width: 8px; height: 8px; border-radius: 999px; }
